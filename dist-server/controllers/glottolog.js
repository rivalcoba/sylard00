"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _Glottolog=_interopRequireDefault(require("../models/Glottolog")),_regexhelp=_interopRequireDefault(require("../helpers/regexhelp"));function _interopRequireDefault(a){return a&&a.__esModule?a:{default:a}}// Import Model
const index=async(a,b)=>{const c=await _Glottolog.default.find({},"gid name parent_id").exec();let d=c.map(a=>{let b={};return b=a.toJSON(),b});b.render("glottolog/index",{languages:d})},parentTree=async(a,b)=>{// Get parent by id of the language
const{id:c}=a.params,d=await _Glottolog.default.findById(c);let e=await d.getParentBranch();b.status(200).json(e)},parentTreeByGid=async(a,b)=>{// Get parent by id of the language
const{gid:c}=a.params,d=await _Glottolog.default.findOne({gid:c});let e=await d.getParentBranch();b.status(200).json(e)},getLanguageList=async(a,b)=>{// Get Param from URL    
const c=await _Glottolog.default.find({$or:[{country_ids:"MX"},{country_ids:"US"}],parent_id:{$ne:""}}).exec();b.status(200).json(c)},getLanguageListByName=async(a,b)=>{// Get Param from URL
let{name:c}=a.params;c=_regexhelp.default.diacriticSensitiveRegex(c);const d=new RegExp(c,"i"),e=await _Glottolog.default.find({name:d,$or:[{country_ids:"MX"},{country_ids:"US"}],parent_id:{$ne:""}}).exec();b.status(200).json(e)};var _default={index,parentTree,getLanguageList,getLanguageListByName,parentTreeByGid};exports.default=_default;